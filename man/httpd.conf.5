.TH HTTPD 5 "12 June 2002"
.SH NAME
httpd.conf \- XS httpd configuration file
.SH SYNOPSIS
.ta 8n
.B httpd.conf
[
.I options
]
.LP
.SH HTTPD.CONF LAYOUT
.LP
The httpd.conf configuration file has the following general layout:

 ... global options ...

 <System>
 ... options for main site ...
 </System>

 <Virtual>
 ... options for virtual host ...
 </Virtual>

 <User>
 ... options for user homedirs ...
 </User>
.LP
Options and their values must be seperated by whitespaces.
.br
The file can have only one System and one User section, but multiple
Virtual sections (one per virtual hostname). Keep in mind that there
are fall-back defaults for all options: you are not required to use a
configuration file and leaving out an option does not mean it will be
automatically disabled.

.LP
.SH GLOBAL OPTIONS
The following options can be set in the global section:

.TP
.B SystemRoot <directory>
The main httpd directory which contains all the data subdirectories
(like htdocs, cgi-bin, logs, ...).
.TP
.B ListenAddress <hostname>
The hostname or IP-address the webserver should bind on.
.TP
.B ListenPort <port>
The service name or port number to bind on. If you want to listen to
multiple ports, you will have to run multiple httpds.
.TP
.B ListenFamily [IPv4|IPv6]
The address family to use: IPv6 is only available when enabled at
compile-time. The default is to leave the family unspecified - which
means that your operating system can choose: in this case the httpd can
even listen to both IPv4 and IPv6 addresses. Note that most operation
systems don't allow binding to multi-family sockets, in which case you
will need to start httpds for IPv4 and IPv6 seperately.
.TP
.B Instances <number>
The number of parallell services to run.
.TP
.B PidFile <filename>
The file to store the current pid and the last startup command line.
This will be used by
.B httpdc(1)
for restarting and other maintainance commands.
.TP
.B UserId <username>
The username or numeric uid that will be used to process all requests.
.TP
.B GroupId <groupname>
The groupname or numeric gid that will be used to process all requests.

.TP
.B ExecAsUser [true|false]
If enabled then filenames and CGI's in a user directory will be read and
executed with the permissions of that user. This is the default.
.I [cannot be disabled yet]
.TP
.B UseSSL [true|false]
If enabled, use SSL instead of plain text. This can only be used if SSL
support is enabled at compile time. If this option is set then the
'https' (443) port will be used by default, instead of 'http' (80). This
option is disabled by default.
.TP
.B SSLCertificate <filename>
The location of the x509 certificate to be used for SSL connections.
This defaults to \fISystemRoot\fP/cert.pem
.TP
.B SSLPrivateKey <filename>
The location of the x509 certificate's key to be used for SSL connections.
This defaults to \fISystemRoot\fP/key.pem
.TP
.B UseCharset [true|false]
If enabled then character sets can be set for all files in a directory
using
.B .charset
files. The .charset file should contain one line which specifies the
character set that is used for HTML files. If this option is not set or
no .charset file can be found, the clients should assume that plain 7bit
text is used. This option is enabled by default.
.TP
.B UseRestrictAddr [true|false]
If enabled then .noxs files may contain one or more IP addresses (or
prefixes of IP addresses). Only clients with matching addresses will be
able to retreive files from this directory. If disabled then access to
the directory will denied to everyone if a .noxs is present and the
contents of the .noxs file is ignored. UseRestrictAddr is enabled by
default.
.TP
.B UseVirtualHost [true|false]
If enabled then virtual websites can be used based on the requested
hostname; as described in
.BR httpd(1) .
This is the default. When disabled only the main (default) site can be
requested and any <Virtual> directives in the configuration file will be
ignored.
.TP
.B UseVirtualUid [true|false]
If enabled files in virtual host directories will be retreived with the
permissions of the owner over the virtual host rootdir. This can be
useful if different users maintain different sites.
.TP
.B UseLocalScript [true|false]
If enabled all directories will be checked for the presence of a
\.xsscripts file. This can be used to specify how files with certain
extensions should be handled by the webserver. These files use the exact
same syntax as the global script.methods file, see
.BR httpd(1)
for details.
.TP
.B LocalMode <number>
t.b.d.

.LP
.SH SECTION OPTIONS
The following options can be set in the System, Virtual and User sections:

.TP
.B Hostname <hostname>
The hostname of the server. This is required for a Virtual section.
For the System en User sections it defaults to the name of the machine.
.TP
.B HtmlDir <directory>
The main directory containing all the HTML files. This defaults to
SystemRoot/htdocs/ for the main server and ~/.html/ for users.
.TP
.B ExecDir <directory>
The path contain the CGI scripts. This is the directory as it is
specified in the URL, which is not necessary the same as the directory
on disk (default: cgi-bin).
.TP
.B PhExecDir <directory>
Physical CGI directory: this is the subdirectory where scripts are
stored on disk. However if you do not use the same value as ExecDir, it
is easy to get confused (default: cgi-bin)
.TP
.B VirtualId [true|false]
t.b.d.
.TP
.B LogAccess <filename>
Logfile to use for normal HTTP requests (answered with a 2xx response).
Instead of a filename, it is possible to log to an external process
using a pipe-symbol and full pathname. If the command is followed by
options or arguments, make sure to quote it using double quotes. For
example to enable logging through cronolog:
.br
LogAccess "|/usr/local/sbin/cronolog /wwwsys/logs/access_%Y%m%d"
.TP
.B LogError <filename>
Logfile or program to use for HTTP requests that trigger errors (like
file not found, 4xx responses).
.TP
.B LogReferer <filename>
Logfile or progrma to use for HTTP referrer information. Note that this
is only used when LogStyle traditional is selected - otherwise referrer
information will be included in the standard LogAccess file.
.TP
.B LogStyle [traditional|combined]
Defines the logfile format. Traditionally access and referrer logs will
be split over two different files, but using a combined accesslog is
more common nowadays.

.SH EXAMPLE
Still needs to be written.
.SH ACKNOWLEDGEMENTS
I thank all the members at MCGV Stack who are actively involved in the
entire WWW happening.
.SH "SEE ALSO"
http://www.stack.nl/~sven/xs\-httpd/
.br
httpd(1), xspasswd(1), imagemap(1), clearxs(1), readxs(1), gfxcount(1),
xsindex(1), httpdc(1)
.SH COPYRIGHT
All the programs in the XS\-HTTPD package are copyright (C) 1995, 1996
by Sven Berkvens, except the imagemapper.
.SH AUTHOR
The author of this WWW server and its accompanying programs is
Sven Berkvens (sven@stack.nl). I made all the programs,
except the imagemapper, which I took from the NCSA distribution,
but I cleaned it up.
.LP
New features have been added by other people at Stack. If you have
problems with this version please contact the Stack maintainers
(xs-httpd@stack.nl) about it and don't bother Sven Berkvens.
